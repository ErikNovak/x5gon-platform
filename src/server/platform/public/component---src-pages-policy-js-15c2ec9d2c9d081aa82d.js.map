{"version":3,"sources":["webpack:///./src/pages/policy.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/gatsby-background-image/HelperUtils.js","webpack:///./node_modules/gatsby-background-image/ImageUtils.js","webpack:///./node_modules/gatsby-background-image/index.js","webpack:///./node_modules/gatsby-background-image/BackgroundUtils.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/gatsby-background-image/StyleUtils.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/gatsby-background-image/IntersectionObserverUtils.js"],"names":["Policy","Description","className","contents","title","paragraphs","more","render","BackgroundSection","object","background","subheader","product","description","button","text","externalLink","React","Component","props","query","data","imageData","desktop","childImageSharp","fluid","Tag","backgroundColor","children","createHTML","this","_interopRequireDefault","require","exports","__esModule","combineArray","filteredJoin","hashString","stringToArray","toKebabCase","toCamelCase","hasImageArray","convertProps","stripRemainingProps","isString","_extends2","gbiPropTypes","value","Object","prototype","toString","call","remainingProps","forEach","propTypesKey","hasOwnProperty","convertedProps","resolutions","fixed","sizes","Array","isArray","str","toLowerCase","replace","letter","index","toUpperCase","match","delimiter","includes","split","reduce","hash","item","charCodeAt","arrayToJoin","filter","join","fromArray","toArray","map","imageLoaded","imageReferenceCompleted","createDummyImageArray","initialBgImage","imageArrayPropsChanged","imagePropsChanged","getUrlString","getCurrentFromData","switchImageSettings","activateMultiplePictureRefs","activatePictureRef","createMultiplePictureRefs","createPictureRef","hasPictureElement","resetImageCache","activateCacheForMultipleImages","activateCacheForImage","allInImageCache","inImageCache","_HelperUtils","imageCache","create","src","every","selfRef","prop","HTMLPictureElement","window","onLoad","img","Image","onload","complete","addEventListener","onError","crossOrigin","critical","isVisible","imageRef","pic","document","createElement","width","offsetWidth","height","offsetHeight","srcSetWebp","sourcesWebP","type","srcset","appendChild","srcSet","imageRefs","_ref","nextImage","nextImageArray","image","bgImage","state","currentSources","propName","returnArray","lastImage","finalImage","addUrl","imgLoaded","dummyArray","length","tracedSVG","base64","afterOpacity","imageState","currentSrc","checkLoaded","newImageSettings","_ref2","_ref2$addUrl","_ref2$returnArray","_ref2$checkLoaded","imageString","dataElement","_ref3","_ref3$tracedSVG","_ref3$addUrl","_ref3$returnArray","_ref3$hasImageUrls","hasImageUrls","stringArray","currentString","indexOf","imageUrl","substr","currentReturnString","returnString","prevProps","isPropsFluidArray","isPrevPropsFluidArray","isPropsFixedArray","isPrevPropsFixedArray","withDummies","initialImage","dummyImageURI","fill","singleImageRef","naturalWidth","naturalHeight","_objectWithoutPropertiesLoose2","_assertThisInitialized2","_inheritsLoose2","_defineProperty2","_react","_propTypes","_BackgroundUtils","_ImageUtils","_StyleUtils","_IntersectionObserverUtils","BackgroundImage","_React$Component","_this","imageInCache","onStartLoad","wasCached","setState","imgCached","IOSupported","fadeIn","seenBefore","IntersectionObserver","hasNoScript","_fixClassName","fixClassName","currentClassNames","addedClassName","backgroundStyles","presetBackgroundStyles","handleImageLoaded","bind","handleRef","_proto","componentDidMount","_fixClassName2","componentDidUpdate","_this2","_fixClassName3","componentWillUnmount","currentImageRef","cleanUpListeners","ref","listenToIntersections","intersectionListener","noScriptImageData","_fixOpacity","fixOpacity","preserveStackingContext","_fixOpacity$style","style","durationFadeIn","_fixOpacity$classId","classId","Math","random","bgColor","shouldFadeIn","transitionDelay","divStyle","position","opacity","display","pseudoStyles","createPseudoStyles","noScriptPseudoStyles","createNoScriptStyles","componentKey","JSON","stringify","key","dangerouslySetInnerHTML","__html","defaultProps","fixedObject","shape","number","isRequired","string","srcWebp","media","fluidObject","aspectRatio","propTypes","oneOfType","arrayOf","bool","array","func","_default","getBackgroundStylesForSingleClass","getStyleRules","rulesForCssText","getStyle","styleSheets","i","classes","rules","cssRules","e","foundClass","slice","foundAcc","styleRule","selectorText","resultingStyleText","cssText","styleContent","doc","implementation","createHTMLDocument","styleElement","textContent","body","sheet","cssStyleRules","styles","constructor","name","values","console","error","keys","newData","classObjects","push","assign","apply","$export","$values","S","it","DESCRIPTORS","getKeys","toIObject","isEnum","f","module","isEntries","O","result","P","toObject","toAbsoluteIndex","toLength","aLen","arguments","undefined","end","endPos","setTransitionStyles","kebabifyBackgroundStyles","escapeClassNames","createPseudoElement","resetComponentClassCache","activateCacheForComponentClass","inComponentClassCache","componentClassCache","appendix","escapedClassName","pseudoClasses","_ref$addedClassName","elementExists","randomAnswerToLifeTheUniverseAndEverything","round","randomClass","additionalClass","componentClassNames","trim","classNames","specialChars","_gbiSpecialChars","__GBI_SPECIAL_CHARS__","specialCharRegEx","RegExp","resultingStyles","styledProps","isNaN","backgroundPosition","backgroundRepeat","backgroundSize","pseudoBefore","pseudoAfter","Number","allSources","sourcesAsUrl","sourcesAsUrlWithCSS","cssStrings","global","inheritIfRequired","dP","gOPN","isRegExp","$flags","$RegExp","Base","proto","re1","re2","CORRECT_NEW","p","tiRE","piRE","fiU","source","proxy","configurable","get","set","io","getIO","callbackIO","listeners","WeakMap","entries","entry","has","target","callback","isIntersecting","intersectionRatio","unobserve","rootMargin","element","observer","observe"],"mappings":"4OAUqBA,E,4JACnBC,YAAc,WA8HZ,OACE,yBAAKC,UAAU,gCACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,yBAAd,yIAKA,kBAAC,IAAD,CAAWC,SArIC,CAChB,CACEC,MAAO,WACPC,WAAY,CACV,0JACA,2TACA,qOACA,mOACA,uoBACA,sMACA,sPACA,sKACA,uaACA,+RACA,uMACA,6QACA,qmBACA,wNACA,yIACA,0UACA,yWACA,0aACA,4EACA,yUACA,gOACA,iLAGJ,CACED,MAAO,uBACPC,WAAY,CACV,iTACA,qPACA,8hBACA,glBAGJ,CACED,MAAO,sBACPC,WAAY,CACV,2TACA,ykBACA,4VACA,4MACA,6MACA,oHACA,4QACA,ubACA,iYACA,mQACA,8TAGJ,CACED,MAAO,kBACPC,WAAY,CACV,wVAEFC,KAAM,CACJ,CACEF,MACE,uFACFC,WAAY,CACV,gQACA,kQACA,obACA,gXACA,6bACA,2MAGJ,CACED,MAAO,+BACPC,WAAY,CACV,4YACA,0SACA,mWACA,4KACA,gLACA,2QAGJ,CACED,MAAO,gDACPC,WAAY,CACV,ktBACA,oTACA,wOACA,sNACA,0LACA,gSAGJ,CACED,MAAO,0DACPC,WAAY,CACV,wSACA,oWACA,4QACA,iSACA,gMAGJ,CACED,MAAO,yCACPC,WAAY,CACV,kPACA,4cACA,8NACA,mOACA,gKAKR,CACED,MAAO,aACPC,WAAY,CACV,gTACA,iPACA,oNACA,4f,4GAkBRE,OAAA,WACE,OACE,6BACE,kBAACC,EAAD,KACE,kBAAC,IAAD,CACEC,OAAQ,CACNC,WAAY,UACZC,UAAW,aACXC,QAAS,SACTC,YACE,iEACFC,OAAQ,CACNC,KAAM,iBACNC,aAAc,sCAKtB,uBAAMf,YAAN,MACA,kBAAC,IAAD,Q,GAhK4BgB,IAAMC,WAuKpCV,EAAoB,SAAAW,GAAK,OAC7B,kBAAC,IAAD,CACEC,MAAK,aAWLb,OAAQ,SAAAc,GAEN,IAAMC,EAAYD,EAAKE,QAAQC,gBAAgBC,MAC/C,OACE,kBAAC,IAAD,CACEC,IAAI,UACJxB,UAAW,GACXuB,MAAOH,E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","file":"component---src-pages-policy-js-15c2ec9d2c9d081aa82d.js","sourcesContent":["import React from \"react\";\r\nimport \"../css/homepage.css\";\r\nimport \"../css/bootstrap.css\";\r\nimport \"../css/accordion.css\";\r\nimport { StandardHeader } from \"../ProductsComponents\";\r\nimport { Accordion, Footer } from \"../Components\";\r\n\r\nimport { graphql, StaticQuery } from \"gatsby\";\r\nimport BackgroundImage from \"gatsby-background-image\";\r\n\r\nexport default class Policy extends React.Component {\r\n  Description = () => {\r\n    const accordion = [\r\n      {\r\n        title: \"Preamble\",\r\n        paragraphs: [\r\n          \"The General Conference of the United Nations Educational, Scientific and Cultural Organization (UNESCO), meeting in Paris in 2019, at its 40th session,\",\r\n          \"Recalling that the Preamble of UNESCO’s Constitution affirms, “that the wide diffusion of culture, and the education of humanity for justice and liberty and peace are indispensable to the dignity of man and constitute a sacred duty which all the nations must fulfil in a spirit of mutual assistance and concern”,\",\r\n          \"Recognizing the important role of UNESCO in the field of information and communication technologies (ICT) and in the implementation of the relevant decisions in this area adopted by the General Conference of that Organization.\",\r\n          \"Further recalling Article I of UNESCO’s Constitution, which assigns to UNESCO among other purposes that of recommending “such international agreements as may be necessary to promote the free flow of ideas by word and image”,\",\r\n          \"Affirming the principles embodied in the Universal Declaration of Human Rights, that states all people have rights and fundamental freedoms that include the right to seek, receive and impart information and ideas through any media and regardless of frontiers (Article 19), as well as the right to education (Article 26), and the right to freely participate in the cultural life of the community, to enjoy the arts, and to share in scientific advancement and its benefits; and the right to the protection of the moral and material interests resulting from any scientific, literary, or artistic production of which one is the author (Article 27),\",\r\n          \"Also affirming the 2007 UN Declaration on the Rights of Indigenous Peoples, which recognizes the rights of indigenous peoples in formulating national legislation and implementing national policy,\",\r\n          \"Noting the 2006 Convention on the Rights of People with Disabilities (Article 24), which recognizes the rights of persons with disabilities to education and the principles contained in the Convention against Discrimination in Education (1960),\",\r\n          \"Referring to the resolutions of the General Conference of UNESCO with regard to the promotion of multilingualism and universal access to information in cyberspace,\",\r\n          \"Also referring to the 1997 UNESCO Recommendation concerning the Status of Higher-Education Teaching Personnel as well as the 1966 ILO/UNESCO Recommendation concerning the Status of Teachers which stresses that as part of academic and professional freedom teachers “should be given the essential role in the choice and adaptation of teaching material, the selection of textbooks, and the application of teaching methods”,\",\r\n          \"Reaffirming the importance of the United Nations 2030 Agenda for Sustainable Development, which underlines that the “spread of information and communications technology and global interconnectedness has great potential to accelerate human progress, to bridge the digital divide and to\",\r\n          \"develop knowledge societies...” and of Goal 4 (SDG 4), which calls for the International community to “ensure inclusive and equitable quality education and promote lifelong opportunities for all”,\",\r\n          \"Acknowledging the 2003 World Summit on the Information Society, Declaration of Principles, committing “to build a people-centered, inclusive and development-oriented Information Society where everyone can create, access, utilize and share information and knowledge”,\",\r\n          \"Referring to the Education 2030 Framework for Action that lists a set of strategic approaches for the implementation of SDG 4, and which underlines increasing access must be accompanied by measures to improve the quality and relevance of education and learning, and in particular that ‘ Education institutions and programmes should be adequately and equitably resourced.. and books other learning materials, open educational resources and technology that are non-discriminatory, learning conducive, learner friendly, context specific, cost effective and available to all learners – children, youth and adults.’\",\r\n          \"Recognizing that the development of ICTs provides opportunities to improve the free flow of ideas by word, sound and image but also presents challenges for ensuring the participation of all in Knowledge Societies,\",\r\n          \"Recognizing that quality basic education, as well as media and information literacy are prerequisites to access and benefit from ICTs,\",\r\n          \"Also recognizing that, in building inclusive Knowledge Societies, Open Educational Resources (OER) can support quality education that is equitable, inclusive, open and participatory as well as enhance academic freedom and professional autonomy of teachers by widening the scope of materials available for teaching and learning,\",\r\n          \"Considering the 2007 Cape Town Open Education Declaration, the 2009 Dakar Declaration on Open Educational Resources, the 2012 Paris OER Declaration, the Millennium Declaration, the 2000 Dakar Framework for Action, and the International Covenant on Economic, Social and Cultural Rights (Article 13.1), which all recognize “the right of everyone to education”,\",\r\n          \"Building on the Ljubljana OER Action Plan 2017 to mainstream OER to help all Member States to create inclusive Knowledge Societies and achieve the 2030 Sustainable Development Agenda, namely SDG 4 (quality education), SDG 5 (Gender equality), SDG 9 (Infrastructure), SDG 10 (Reduced inequalities within and across countries), SDG 16 (Peace, justice and strong institutions) and SDG 17 (Partnerships for the goals), thereto:\",\r\n          \"1. Adopts the present Recommendation on Open Educational Resources (OER);\",\r\n          \"2. Recommends that Member States apply the following provisions by taking appropriate steps, including whatever legislative or other measures may be required, in conformity with the constitutional practice and governing structures of each State, to give effect within their territories to the principles of the Recommendation;\",\r\n          \"3. Also recommends that Member States bring the Recommendation to the attention of the authorities and bodies responsible for learning and education and consult relevant stakeholders concerned with learning and education;\",\r\n          \"4. Further recommends that Member States report to UNESCO, at such dates and in such manner as shall be determined, on the action taken in pursuance of this Recommendation.\",\r\n        ],\r\n      },\r\n      {\r\n        title: \"Definition and scope\",\r\n        paragraphs: [\r\n          \"1. Open Educational Resources (OER) are teaching, learning and research materials in any medium that may be composed of copyrightable materials released under an open license, materials not protected by copyright, materials for which copyright protection has expired, or a combination of the foregoing.\",\r\n          \"2. Open license refers to a copyright license that respects the intellectual property rights of the copyright owner and provides limited permissions granting the public the rights to access, use, adapt, and redistribute educational materials.\",\r\n          \"3. Information and communication technologies (ICT) provide great potential for effective, equitable and inclusive access to OER and their use, adaptation and redistribution. They can open possibilities for OER to be accessible anytime and anywhere for everyone including individuals with disabilities and individuals coming from marginalized or disadvantaged groups. They can help meet the needs of individual learners and effectively promote gender equality and incentivize innovate pedagogical, didactical and methodological approaches.\",\r\n          \"4. Stakeholders in this Recommendation include: educators, learners, governmental bodies, parents educational institutions, education support personnel, teacher trainers, educational policy makers, cultural institutions (such as libraries, archives and museums) and their users, technical infrastructure providers, researchers, research institutions, civil society organizations (including professional and student associations), publishers, the public and private sectors, intergovernmental organizations, copyright holders and authors, media and broadcasting groups and funding bodies.\",\r\n        ],\r\n      },\r\n      {\r\n        title: \"Aims and objectives\",\r\n        paragraphs: [\r\n          \"5. One key prerequisite to achieve SDG 4 is sustained investment and educational actions by governments and other key education stakeholders, as appropriate, in the creation, curation, regular updating, ensuring inclusive and equitable access, and effective use of high quality materials and programmes of study.\",\r\n          \"6. As is articulated in the 2007 Cape Town Open Education Declaration and the 2012 Paris OER Declaration, the application of open licenses to educational materials introduces significant opportunities for more cost-effective creation, access, use, adaptation, redistribution, curation, and quality assurance of those materials, including, but not limited to translation, adaptation to different learning and cultural contexts, development of gender-sensitive materials, and the creation of alternative and accessible formats of materials for learners with special educational needs.\",\r\n          \"7. In addition, the judicious application of OER in combination with appropriate pedagogical methodologies can support a broad range of innovative pedagogical options to engage both educators and learners to become more active participants in educational processes and creators of content as members of diverse and inclusive Knowledge Societies.\",\r\n          \"8. Furthermore, regional and global collaboration and advocacy in the creation, access, use, adaptation, redistribution and evaluation of OER can enable governments to optimise their own investments in\",\r\n          \"educational content creation, as well as IT infrastructure and curation, in ways that will enable them to meet their defined national educational policy priorities more cost-effectively and sustainably.\",\r\n          \"9. Noting these potential benefits, the objectives and areas of action of this OER Recommendation are as follows:\",\r\n          \"(i) Capacity building: developing the capacity of all key education stakeholders to create, access, use, adapt, and redistribute OER, as well as to use and apply open licenses in a manner consistent with national copyright legislation and international obligations;\",\r\n          \"(ii) Developing supportive policy: encouraging governments, and education authorities and institutions to adopt regulatory frameworks to support open licensing of publicly funded educational materials, develop strategies to enable use and adaptation of OER in support of high quality, inclusive education and lifelong learning for all, and adopt integrated mechanisms to recognize the learning outcomes of OER-based programmes of study;\",\r\n          \"(iii) Effective, inclusive and equitable access to quality OER: supporting the adoption of strategies and programmes including through relevant technology solutions that ensure OER in any medium are shared in open formats and standards to maximize equitable access, co-creation, curation, and search ability, including for those from vulnerable groups and persons with disabilities;\",\r\n          \"(iv) Nurturing the creation of sustainability models for OER: supporting and encouraging the creation of sustainability models for OER at national and institutional levels, and the planning and pilot test of new sustainable forms of education and learning;\",\r\n          \"(v) Facilitating international cooperation: supporting international cooperation between stakeholders to minimize unnecessary duplication in OER development investments and to develop a global pool of culturally diverse, locally relevant, gender-sensitive, accessible, educational materials in multiple languages.\",\r\n        ],\r\n      },\r\n      {\r\n        title: \"Areas of action\",\r\n        paragraphs: [\r\n          \"10. This Recommendation addresses five objectives: (i) Building capacity of stakeholders to create, access, use, adapt and redistribute OER; (ii) Developing supportive policy; (iii) Encouraging inclusive and equitable quality OER; (iv) Nurturing the creation of sustainability models for OER; and (v) Facilitating international cooperation.\",\r\n        ],\r\n        more: [\r\n          {\r\n            title:\r\n              \"Building capacity of stakeholders to create, access, use, adapt and redistribute OER\",\r\n            paragraphs: [\r\n              \"11. Member States are recommended to strategically plan and support OER capacity building and awareness raising at the institutional and national levels, targeting all education sectors and levels. Member States are encouraged to consider the following:\",\r\n              \"(a) building awareness among relevant stakeholder communities on how OER can increase access to educational resources, improve learning outcomes, maximise the impact of public funding, and empower educators and learners to become co-creators of knowledge;\",\r\n              \"(b) providing systematic and continuous capacity building (in-service and pre-service) on how to create, access, make available, use, adapt, and redistribute OER as an integral part of training programmes at all levels of education. This should include improving capacity of public authorities, policy makers, quality development and assurance professionals to understand OER and support their integration into teaching and learning;\",\r\n              \"(c) raising awareness concerning exceptions and limitations for the use of copyrighted works for educational and research purposes. This should be enacted to facilitate the integration of a wide range of works in OER, recognizing that the fulfilment of educational goals as well as the development of OER requires engagement with existing copyright protected works.\",\r\n              \"(d) leveraging open licensed tools, platforms and standards to help ensure OER can be easily found, accessed, used, adapted and redistributed in a safe, secure and privacy protected mode. This could include free and open source authoring tools, libraries and other repositories and search engines, systems for long term preservation and frontier technologies for automatic OER processing such as artificial intelligence methods and tools; and\",\r\n              \"(e) making available easily accessible resources that provide information and assistance to all OER stakeholders on OER related topics including copyright and open licensing of educational material.\",\r\n            ],\r\n          },\r\n          {\r\n            title: \"Developing supportive policy\",\r\n            paragraphs: [\r\n              \"12. Member States, according to their specific conditions, governing structures and constitutional provisions, should develop or encourage policy environments, including those at the institutional level, that are supportive of effective OER practices. Through a transparent participatory process that includes dialogue with stakeholders, Member States are encouraged to consider the following:\",\r\n              \"(a) developing and implementing policies and/or regulatory frameworks which encourage that educational resources developed with public funds be openly licensed or dedicated to the public domain as appropriate, and financial and human resources coordinated for the implementation of the policies;\",\r\n              \"(b) encouraging and supporting institutions to develop or update legal or policy frameworks to stimulate the creation, access, use, adaptation and redistribution of quality OER by educators and learners; and to develop and integrate quality assurance mechanism for OER into the existing quality assurance strategies for teaching and learning materials;\",\r\n              \"(c) developing mechanisms to support and incentivize all stakeholders to publish source files and accessible OER using standard open file formats in public repositories;\",\r\n              \"(d) aligning OER policies with other open policies and guiding principles such as those for Open Access, Open Data, Open Pedagogy, Open Source Software and Open Science; and\",\r\n              \"(e) adjusting or reforming the curriculum and assessment in accordance with the needs of the use of OER and to motivate the active use, creation, and sharing of OER by teachers and students; and recognizing the learning outcomes of OER-based programmes of study;\",\r\n            ],\r\n          },\r\n          {\r\n            title: \"Encourage inclusive and equitable quality OER\",\r\n            paragraphs: [\r\n              \"13. Member States are encouraged to support the creation, access, use, adaptation and redistribution of inclusive and equitable quality OER for all stakeholders. These would include those learners in formal and non-formal education contexts irrespective of age, gender, physical ability, socio-economic status, as well as those who live in remote areas (including nomadic populations), internally and forcibly displaced persons, migrants and refugees. In all instances, gender equality should be ensured, and particular attention paid to equity and inclusion for learners who are especially disadvantaged due to multiple and intersecting forms of discrimination. Member States are recommended to consider the following:\",\r\n              \"(a) ensuring access to OER that most suitably meet both the needs and material circumstances of target learners and the educational objectives of the courses or subjects for which they are being provided. This would include offline (including printed) modalities for accessing resources where appropriate;\",\r\n              \"(b) supporting OER stakeholders to develop gender-sensitive, culturally and linguistically relevant OER, and to create local language OER, particularly in indigenous languages which are less used, under- resourced and endangered;\",\r\n              \"(c) ensuring that the principle of gender equality, non-discrimination, accessibility and inclusiveness is reflected in strategies and programmes for creating, accessing, using, adapting, and redistributing OER;\",\r\n              \"(d) incentivising public and private investments in IT infrastructure and broadband, to provide increased access to OER, particularly for low-income, rural and remote communities; and\",\r\n              \"(e) developing and adapting existing evidence-based standards, benchmarks and related criteria for the quality assurance of OER, as appropriate, which emphasize reviewing educational resources (both openly licensed and not openly licensed) under regular quality assurance mechanisms.\",\r\n            ],\r\n          },\r\n          {\r\n            title: \"Nurturing the creation of sustainability models for OER\",\r\n            paragraphs: [\r\n              \"14. Member States, according to their specific conditions, governing structures and constitutional provisions, are recommended to support and encourage the development of comprehensive, inclusive and integrated OER sustainability models. Member States are encouraged to consider the following:\",\r\n              \"(a) reviewing current provisions, procurement policies and regulations to expand and simplify the process of procuring quality goods and services to prioritize the creation, ownership, translation, adaptation, curation, and sharing of OER, where appropriate, as well as to develop the capacity of all OER stakeholders to participate in these activities;\",\r\n              \"(b) catalysing sustainability models through traditional funding sources but also non-traditional reciprocity based revenue generation such as donations, memberships, pay what you want, and crowdfunding that may provide revenues and sustainability to OER provision;\",\r\n              \"(c) promoting and raising awareness of other value added models using OER across institutions and countries where the focus is on participation, co-creation, generating value collectively, community partnerships, spurring innovation, and bringing people together for a common cause; and\",\r\n              \"(d) enacting regulatory frameworks that support the development of OER products and services that align with national standards as well as the interest and values of the OER stakeholders.\",\r\n            ],\r\n          },\r\n          {\r\n            title: \"Facilitating international cooperation\",\r\n            paragraphs: [\r\n              \"15. To promote the development and use of OER, Member States should facilitate international cooperation among all relevant stakeholders, whether on a bilateral or multilateral basis. Member States are encouraged to consider the following:\",\r\n              \"(a) promoting and stimulating cross-border collaboration and alliances on OER projects and programmes, leveraging existing transnational, regional and global collaboration mechanisms and organizations. This should include joining efforts on collaborative development and use of OER as well as capacity building, communities of practice, joint research on OER, and mutual cooperative assistance between all countries regardless of their state of development;\",\r\n              \"(b) exploring methods to establish regional and international funding mechanisms for implementing and strengthening OER as well as to understand mechanisms that can support international, national, and regional efforts;\",\r\n              \"(c) supporting the creation and maintenance of effective peer networks that share OER, based on areas such as subject matter, language, institutions, regions, and level of education, at local, regional and global levels; and\",\r\n              \"(d) incorporating, where appropriate, specific clauses relating to OER in international agreements concerned with cooperation in the fields of education.\",\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"Monitoring\",\r\n        paragraphs: [\r\n          \"16. Member States should, according to their specific conditions, governing structures and constitutional provisions, evaluate policies and programmes related to OER using a combination of quantitative and qualitative approaches, as appropriate. Member States are encouraged to consider the following:\",\r\n          \"(a) deploying appropriate research programmes, tools and indicators to measure the effectiveness and efficiency of OER policies and incentives against defined objectives, including specific targets for disadvantaged and vulnerable groups;\",\r\n          \"(b) collecting, presenting, and disseminating progress, good practices, innovations and research reports on OER and its implications with the support of UNESCO and international open education communities; and\",\r\n          \"(c) developing strategies to monitor and evaluate the educational effectiveness and long-term financial efficiency of OER, which include participation of all relevant stakeholders. Such strategies could focus on improving learning processes and strengthening the connections between findings, decision-making, transparency, and accountability to ensure the best educational outcomes. This would include support to the development of an evidence base on the impact of OER on education and learning.\",\r\n        ],\r\n      },\r\n    ];\r\n    return (\r\n      <div className=\"bg-white p-128 maxer mx-auto\">\r\n        <div className=\"mx-lg-1 px-4\">\r\n          <h4 className=\"maxer-880 text-purple\">\r\n            The new UNESCO Recommendation in OER can be implemented via our\r\n            technology and can be used to empower you and all other\r\n            stakeholders.\r\n          </h4>\r\n          <Accordion contents={accordion} />\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <BackgroundSection>\r\n          <StandardHeader\r\n            object={{\r\n              background: \"bg-none\",\r\n              subheader: \"CONTRIBUTE\",\r\n              product: \"Policy\",\r\n              description:\r\n                \"Read the UNESCO Recommendation and align policy and technology\",\r\n              button: {\r\n                text: \"Download draft\",\r\n                externalLink: \"/files/oer_recommendations.pdf\",\r\n              },\r\n            }}\r\n          />\r\n        </BackgroundSection>\r\n        <this.Description />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// DUPLICATED FOR GRAPHQL SECURITY REASONS!\r\nconst BackgroundSection = props => (\r\n  <StaticQuery\r\n    query={graphql`\r\n      query {\r\n        desktop: file(relativePath: { eq: \"policy_header.jpg\" }) {\r\n          childImageSharp {\r\n            fluid(quality: 90, maxWidth: 1920) {\r\n              ...GatsbyImageSharpFluid_withWebp\r\n            }\r\n          }\r\n        }\r\n      }\r\n    `}\r\n    render={data => {\r\n      // Set ImageData.\r\n      const imageData = data.desktop.childImageSharp.fluid;\r\n      return (\r\n        <BackgroundImage\r\n          Tag=\"section\"\r\n          className={\"\"}\r\n          fluid={imageData}\r\n          backgroundColor={`none`}\r\n        >\r\n          {props.children}\r\n        </BackgroundImage>\r\n      );\r\n    }}\r\n  />\r\n);\r\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.combineArray = exports.filteredJoin = exports.hashString = exports.stringToArray = exports.toKebabCase = exports.toCamelCase = exports.hasImageArray = exports.convertProps = exports.stripRemainingProps = exports.isString = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\n/**\n * Mirror of BackgroundImage.propTypes. Keep in SYNC!\n *\n * @type {Object}\n */\nvar gbiPropTypes = [\"resolutions\", \"sizes\", \"fixed\", \"fluid\", \"fadeIn\", \"durationFadeIn\", \"className\", \"critical\", \"crossOrigin\", \"style\", \"backgroundColor\", \"onLoad\", \"onError\", \"onStartLoad\", \"Tag\", \"classId\", \"preserveStackingContext\"];\n/**\n * Tests a given value on being a string.\n *\n * @param value *   Value to test\n * @return {boolean}\n */\n\nvar isString = function isString(value) {\n  return Object.prototype.toString.call(value) === '[object String]';\n};\n/**\n * Strip BackgroundImage propTypes from remaining props to be passed to <Tag />\n *\n * @param props\n * @return {Object}\n */\n\n\nexports.isString = isString;\n\nvar stripRemainingProps = function stripRemainingProps(props) {\n  var remainingProps = (0, _extends2[\"default\"])({}, props);\n  gbiPropTypes.forEach(function (propTypesKey) {\n    if (Object.prototype.hasOwnProperty.call(remainingProps, propTypesKey)) {\n      delete remainingProps[propTypesKey];\n    }\n  });\n  return remainingProps;\n};\n/**\n * Handle legacy names for image queries\n *\n * @param props\n * @return {Object}\n */\n\n\nexports.stripRemainingProps = stripRemainingProps;\n\nvar convertProps = function convertProps(props) {\n  var convertedProps = (0, _extends2[\"default\"])({}, props);\n\n  if (convertedProps.resolutions) {\n    convertedProps.fixed = convertedProps.resolutions;\n    delete convertedProps.resolutions;\n  }\n\n  if (convertedProps.sizes) {\n    convertedProps.fluid = convertedProps.sizes;\n    delete convertedProps.sizes;\n  }\n\n  return convertedProps;\n};\n/**\n * Checks if fluid or fixed are image arrays.\n *\n * @param props\n * @return {boolean}\n */\n\n\nexports.convertProps = convertProps;\n\nvar hasImageArray = function hasImageArray(props) {\n  return props.fluid && Array.isArray(props.fluid) || props.fixed && Array.isArray(props.fixed);\n};\n/**\n * Converts CSS kebab-case strings to camel-cased js style rules.\n *\n * @param str   string    Rule to transform\n * @return {boolean|string}\n */\n\n\nexports.hasImageArray = hasImageArray;\n\nvar toCamelCase = function toCamelCase(str) {\n  return isString(str) && str.toLowerCase().replace(/(?:^\\w|-|[A-Z]|\\b\\w)/g, function (letter, index) {\n    return index === 0 ? letter.toLowerCase() : letter.toUpperCase();\n  }).replace(/\\s|\\W+/g, '');\n};\n/**\n * Converts camel-cased js style rules to CSS kebab-case strings.\n *\n * @param str string    Rule to transform\n * @return {boolean|string}\n */\n\n\nexports.toCamelCase = toCamelCase;\n\nvar toKebabCase = function toKebabCase(str) {\n  return isString(str) && str.replace(/\\s|\\W+/g, '').replace(/[A-Z]/g, function (match) {\n    return \"-\" + match.toLowerCase();\n  });\n};\n/**\n * Splits a given string (e.g. from classname) to an array.\n *\n * @param str string|array  String to split or return as array\n * @param delimiter string  Delimiter on which to split str\n * @return {array|boolean}  Returns (split) string as array, false on failure\n */\n\n\nexports.toKebabCase = toKebabCase;\n\nvar stringToArray = function stringToArray(str, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = \" \";\n  }\n\n  if (str instanceof Array) {\n    return str;\n  }\n\n  if (isString(str)) {\n    if (str.includes(delimiter)) {\n      return str.split(delimiter);\n    }\n\n    return [str];\n  }\n\n  return false;\n};\n/**\n * Hashes a String to a 32bit integer with the simple Java 8 hashCode() func.\n *\n * @param str   string    String to hash.\n * @return {number}\n */\n\n\nexports.stringToArray = stringToArray;\n\nvar hashString = function hashString(str) {\n  return isString(str) && [].reduce.call(str, function (hash, item) {\n    hash = (hash << 5) - hash + item.charCodeAt(0);\n    return hash | 0;\n  }, 0);\n};\n/**\n * As the name says, it filters out empty strings from an array and joins it.\n *\n * @param arrayToJoin   array   Array to join after filtering.\n * @return {string}\n */\n\n\nexports.hashString = hashString;\n\nvar filteredJoin = function filteredJoin(arrayToJoin) {\n  return arrayToJoin.filter(function (item) {\n    return item !== \"\";\n  }).join();\n};\n/**\n * Combines two arrays while keeping fromArrays indexes & values.\n *\n * @param fromArray   array   Array the values shall be taken from.\n * @param toArray     array   Array to copy values into.\n * @return {array}\n */\n\n\nexports.filteredJoin = filteredJoin;\n\nvar combineArray = function combineArray(fromArray, toArray) {\n  return fromArray.map(function (item, index) {\n    return item || toArray[index];\n  });\n};\n\nexports.combineArray = combineArray;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.imageLoaded = exports.imageReferenceCompleted = exports.createDummyImageArray = exports.initialBgImage = exports.imageArrayPropsChanged = exports.imagePropsChanged = exports.getUrlString = exports.getCurrentFromData = exports.switchImageSettings = exports.activateMultiplePictureRefs = exports.activatePictureRef = exports.createMultiplePictureRefs = exports.createPictureRef = exports.hasPictureElement = exports.resetImageCache = exports.activateCacheForMultipleImages = exports.activateCacheForImage = exports.allInImageCache = exports.inImageCache = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _HelperUtils = require(\"./HelperUtils\");\n\nvar imageCache = Object.create({});\n/**\n * Cache if we've seen an image before so we don't both with\n * lazy-loading & fading in on subsequent mounts.\n *\n * @param props\n * @return {*|boolean}\n */\n\nvar inImageCache = function inImageCache(props) {\n  var convertedProps = (0, _HelperUtils.convertProps)(props);\n\n  if ((0, _HelperUtils.hasImageArray)(convertedProps)) {\n    return allInImageCache(props);\n  } else {\n    // Find src\n    var src = convertedProps.fluid ? convertedProps.fluid.src : convertedProps.fixed ? convertedProps.fixed.src : null;\n    return imageCache[src] || false;\n  }\n};\n/**\n * Processes an array of cached images for inImageCache.\n *\n * @param props  object    Component Props (with fluid or fixed as array).\n * @return {*|boolean}\n */\n\n\nexports.inImageCache = inImageCache;\n\nvar allInImageCache = function allInImageCache(props) {\n  var convertedProps = (0, _HelperUtils.convertProps)(props); // Extract Image Array.\n\n  var imageStack = convertedProps.fluid || convertedProps.fixed; // Only return true if every image is in cache.\n\n  return imageStack.every(function (imageData) {\n    if (convertedProps.fluid) {\n      return inImageCache({\n        fluid: imageData\n      });\n    } else {\n      return inImageCache({\n        fixed: imageData\n      });\n    }\n  });\n};\n/**\n * Adds an Image to imageCache.\n *\n * @param props\n * @param selfRef\n */\n\n\nexports.allInImageCache = allInImageCache;\n\nvar activateCacheForImage = function activateCacheForImage(props, selfRef) {\n  var convertedProps = (0, _HelperUtils.convertProps)(props);\n\n  if ((0, _HelperUtils.hasImageArray)(convertedProps)) {\n    return activateCacheForMultipleImages(props);\n  } else {\n    // Find src\n    var src = convertedProps.fluid ? convertedProps.fluid.src : convertedProps.fixed ? convertedProps.fixed.src : null;\n\n    if (src) {\n      imageCache[src] = true;\n    }\n  }\n};\n/**\n * Activates the Cache for multiple Images.\n *\n * @param props\n */\n\n\nexports.activateCacheForImage = activateCacheForImage;\n\nvar activateCacheForMultipleImages = function activateCacheForMultipleImages(props) {\n  var convertedProps = (0, _HelperUtils.convertProps)(props); // Extract Image Array.\n\n  var imageStack = convertedProps.fluid || convertedProps.fixed;\n  imageStack.forEach(function (imageData) {\n    if (convertedProps.fluid) {\n      activateCacheForImage({\n        fluid: imageData\n      });\n    } else {\n      activateCacheForImage({\n        fixed: imageData\n      });\n    }\n  });\n};\n/**\n * Resets the image cache (especially important for reliable tests).\n */\n\n\nexports.activateCacheForMultipleImages = activateCacheForMultipleImages;\n\nvar resetImageCache = function resetImageCache() {\n  for (var prop in imageCache) {\n    delete imageCache[prop];\n  }\n};\n/**\n * Returns the availability of the HTMLPictureElement unless in SSR mode.\n *\n * @return {boolean}\n */\n\n\nexports.resetImageCache = resetImageCache;\n\nvar hasPictureElement = function hasPictureElement() {\n  return typeof HTMLPictureElement !== \"undefined\" || typeof window === \"undefined\";\n};\n/**\n * Creates an image reference to be activated on critical or visibility.\n * @param props\n * @param onLoad\n * @return {HTMLImageElement|null|Array}\n */\n\n\nexports.hasPictureElement = hasPictureElement;\n\nvar createPictureRef = function createPictureRef(props, onLoad) {\n  var convertedProps = (0, _HelperUtils.convertProps)(props);\n\n  if (typeof window !== \"undefined\" && (typeof convertedProps.fluid !== \"undefined\" || typeof convertedProps.fixed !== \"undefined\")) {\n    if ((0, _HelperUtils.hasImageArray)(convertedProps)) {\n      return createMultiplePictureRefs(props, onLoad);\n    } else {\n      var img = new Image();\n\n      img.onload = function () {\n        return onLoad();\n      };\n\n      if (!img.complete && typeof convertedProps.onLoad === \"function\") {\n        img.addEventListener('load', convertedProps.onLoad);\n      }\n\n      if (typeof convertedProps.onError === \"function\") {\n        img.addEventListener('error', convertedProps.onError);\n      }\n\n      if (convertedProps.crossOrigin) {\n        img.crossOrigin = convertedProps.crossOrigin;\n      } // Only directly activate the image if critical (preload).\n\n\n      if (convertedProps.critical || convertedProps.isVisible) {\n        return activatePictureRef(img, convertedProps);\n      }\n\n      return img;\n    }\n  }\n\n  return null;\n};\n/**\n * Creates multiple image references. Internal function.\n *\n * @param props   object    Component Props (with fluid or fixed as array).\n * @param onLoad  function  Callback for load handling.\n */\n\n\nexports.createPictureRef = createPictureRef;\n\nvar createMultiplePictureRefs = function createMultiplePictureRefs(props, onLoad) {\n  var convertedProps = (0, _HelperUtils.convertProps)(props); // Extract Image Array.\n\n  var imageStack = convertedProps.fluid || convertedProps.fixed;\n  return imageStack.map(function (imageData) {\n    if (convertedProps.fluid) {\n      return createPictureRef((0, _extends2[\"default\"])({}, convertedProps, {\n        fluid: imageData\n      }), onLoad);\n    } else {\n      return createPictureRef((0, _extends2[\"default\"])({}, convertedProps, {\n        fixed: imageData\n      }), onLoad);\n    }\n  });\n};\n/**\n * Creates a picture element for the browser to decide which image to load.\n *\n * @param imageRef\n * @param props\n * @param selfRef\n * @return {null|Array|*}\n */\n\n\nexports.createMultiplePictureRefs = createMultiplePictureRefs;\n\nvar activatePictureRef = function activatePictureRef(imageRef, props, selfRef) {\n  if (selfRef === void 0) {\n    selfRef = null;\n  }\n\n  var convertedProps = (0, _HelperUtils.convertProps)(props);\n\n  if (typeof window !== \"undefined\" && (typeof convertedProps.fluid !== \"undefined\" || typeof convertedProps.fixed !== \"undefined\")) {\n    if ((0, _HelperUtils.hasImageArray)(convertedProps)) {\n      return activateMultiplePictureRefs(imageRef, props, selfRef);\n    } else {\n      var imageData = convertedProps.fluid ? convertedProps.fluid : convertedProps.fixed; // Prevent adding HTMLPictureElement if it isn't supported (e.g. IE11),\n      // but don't prevent it during SSR.\n\n      var removableElement = null;\n\n      if (hasPictureElement()) {\n        var pic = document.createElement('picture');\n\n        if (selfRef) {\n          pic.width = imageRef.width = selfRef.offsetWidth;\n          pic.height = imageRef.height = selfRef.offsetHeight;\n        }\n\n        if (imageData.srcSetWebp) {\n          var sourcesWebP = document.createElement('source'); // Set original component's style.\n\n          sourcesWebP.type = \"image/webp\";\n          sourcesWebP.srcset = imageData.srcSetWebp;\n          sourcesWebP.sizes = imageData.sizes;\n          pic.appendChild(sourcesWebP);\n        }\n\n        pic.appendChild(imageRef);\n        removableElement = pic; // document.body.appendChild(removableElement)\n      } else {\n        if (selfRef) {\n          imageRef.width = selfRef.offsetWidth;\n          imageRef.height = selfRef.offsetHeight;\n        }\n\n        removableElement = imageRef; // document.body.appendChild(removableElement)\n      }\n\n      imageRef.srcset = imageData.srcSet ? imageData.srcSet : \"\";\n      imageRef.src = imageData.src ? imageData.src : \"\"; // document.body.removeChild(removableElement)\n\n      return imageRef;\n    }\n  }\n\n  return null;\n};\n/**\n * Creates multiple picture elements.\n *\n * @param imageRefs\n * @param props\n * @param selfRef\n * @return {Array||null}\n */\n\n\nexports.activatePictureRef = activatePictureRef;\n\nvar activateMultiplePictureRefs = function activateMultiplePictureRefs(imageRefs, props, selfRef) {\n  var convertedProps = (0, _HelperUtils.convertProps)(props); // Extract Image Array.\n\n  return imageRefs.map(function (imageRef, index) {\n    if (convertedProps.fluid) {\n      return activatePictureRef(imageRef, (0, _extends2[\"default\"])({}, convertedProps, {\n        fluid: convertedProps.fluid[index]\n      }), selfRef);\n    } else {\n      return activatePictureRef(imageRef, (0, _extends2[\"default\"])({}, convertedProps, {\n        fixed: convertedProps.fixed[index]\n      }), selfRef);\n    }\n  });\n};\n/**\n * Compares the old states to the new and changes image settings accordingly.\n *\n * @param image     string||array   Base data for one or multiple Images.\n * @param bgImage   string||array   Last background image(s).\n * @param imageRef  string||array   References to one or multiple Images.\n * @param state     object          Component state.\n * @return {{afterOpacity: number, bgColor: *, bgImage: *, nextImage: string}}\n */\n\n\nexports.activateMultiplePictureRefs = activateMultiplePictureRefs;\n\nvar switchImageSettings = function switchImageSettings(_ref) {\n  var image = _ref.image,\n      bgImage = _ref.bgImage,\n      imageRef = _ref.imageRef,\n      state = _ref.state;\n  // Read currentSrc from imageRef (if exists).\n  var currentSources = getCurrentFromData({\n    data: imageRef,\n    propName: \"currentSrc\"\n  }); // Backup bgImage to lastImage.\n\n  var returnArray = Array.isArray(image);\n  var lastImage = Array.isArray(bgImage) ? (0, _HelperUtils.filteredJoin)(bgImage) : bgImage; // Set the backgroundImage according to images available.\n\n  var nextImage;\n  var nextImageArray; // Signal to `createPseudoStyles()` when we have reached the final image,\n  // which is important for transparent background-image(s).\n\n  var finalImage = false;\n\n  if (returnArray) {\n    // Check for tracedSVG first.\n    nextImage = getCurrentFromData({\n      data: image,\n      propName: \"tracedSVG\",\n      returnArray: returnArray\n    }); // Now combine with base64 images.\n\n    nextImage = (0, _HelperUtils.combineArray)(getCurrentFromData({\n      data: image,\n      propName: \"base64\",\n      returnArray: returnArray\n    }), nextImage); // Now add possible `rgba()` or similar CSS string props.\n\n    nextImage = (0, _HelperUtils.combineArray)(getCurrentFromData({\n      data: image,\n      propName: \"CSS_STRING\",\n      addUrl: false,\n      returnArray: returnArray\n    }), nextImage); // Do we have at least one img loaded?\n\n    if (state.imgLoaded && state.isVisible) {\n      if (currentSources) {\n        nextImage = (0, _HelperUtils.combineArray)(getCurrentFromData({\n          data: imageRef,\n          propName: \"currentSrc\",\n          returnArray: returnArray\n        }), nextImage);\n        finalImage = true;\n      } else {\n        // No support for HTMLPictureElement or WebP present, get src.\n        nextImage = (0, _HelperUtils.combineArray)(getCurrentFromData({\n          data: imageRef,\n          propName: \"src\",\n          returnArray: returnArray\n        }), nextImage);\n        finalImage = true;\n      }\n    } // First fill last images from bgImage...\n\n\n    nextImage = (0, _HelperUtils.combineArray)(nextImage, bgImage); // ... then fill the rest of the background-images with a transparent dummy\n    // pixel, lest the background-* properties can't target the correct image.\n\n    var dummyArray = createDummyImageArray(image.length); // Now combine the two arrays and join them.\n\n    nextImage = (0, _HelperUtils.combineArray)(nextImage, dummyArray);\n    nextImageArray = nextImage;\n    nextImage = (0, _HelperUtils.filteredJoin)(nextImage);\n  } else {\n    nextImage = \"\";\n    if (image.tracedSVG) nextImage = getCurrentFromData({\n      data: image,\n      propName: \"tracedSVG\"\n    });\n    if (image.base64 && !image.tracedSVG) nextImage = getCurrentFromData({\n      data: image,\n      propName: \"base64\"\n    });\n\n    if (state.imgLoaded && state.isVisible) {\n      nextImage = currentSources;\n      finalImage = true;\n    }\n  } // Change opacity according to imageState.\n\n\n  var afterOpacity = state.imageState % 2;\n\n  if (!returnArray && nextImage === \"\" && state.imgLoaded && state.isVisible && imageRef && !imageRef.currentSrc) {\n    // Should we still have no nextImage it might be because currentSrc is missing.\n    nextImage = getCurrentFromData({\n      data: imageRef,\n      propName: \"src\",\n      checkLoaded: false\n    });\n    finalImage = true;\n  } // Fall back on lastImage (important for prop changes) if all else fails.\n\n\n  if (!nextImage) nextImage = lastImage;\n  var newImageSettings = {\n    lastImage: lastImage,\n    nextImage: nextImage,\n    afterOpacity: afterOpacity,\n    finalImage: finalImage\n  }; // Add nextImageArray for bgImage to newImageSettings if exists.\n\n  if (nextImageArray) newImageSettings.nextImageArray = nextImageArray;\n  return newImageSettings;\n};\n/**\n * Extracts a value from an imageRef, image object or an array of them.\n *\n * @param data        HTMLImageElement||object||Array   Data to extract from.\n * @param propName    string    Property to extract.\n * @param addUrl      boolean   Should returned strings be encased in `url()`?\n * @param returnArray boolean   Switches between returning an array and a string.\n * @param checkLoaded boolean   Turns checking for imageLoaded() on and off.\n * @return {string||array}\n */\n\n\nexports.switchImageSettings = switchImageSettings;\n\nvar getCurrentFromData = function getCurrentFromData(_ref2) {\n  var data = _ref2.data,\n      propName = _ref2.propName,\n      _ref2$addUrl = _ref2.addUrl,\n      addUrl = _ref2$addUrl === void 0 ? true : _ref2$addUrl,\n      _ref2$returnArray = _ref2.returnArray,\n      returnArray = _ref2$returnArray === void 0 ? false : _ref2$returnArray,\n      _ref2$checkLoaded = _ref2.checkLoaded,\n      checkLoaded = _ref2$checkLoaded === void 0 ? true : _ref2$checkLoaded;\n  if (!data || !propName) return \"\"; // Handle tracedSVG with \"special care\".\n\n  var tracedSVG = propName === \"tracedSVG\";\n\n  if (Array.isArray(data)) {\n    // Filter out all elements not having the propName and return remaining.\n    var imageString = data // .filter(dataElement => {\n    //   return propName in dataElement && dataElement[propName]\n    // })\n    .map(function (dataElement) {\n      // If `currentSrc` or `src` is needed, check image load completion first.\n      if (propName === \"currentSrc\" || propName === 'src') {\n        return checkLoaded ? imageLoaded(dataElement) && dataElement[propName] || \"\" : dataElement[propName];\n      } // Check if CSS strings should be parsed.\n\n\n      if (propName === \"CSS_STRING\" && (0, _HelperUtils.isString)(dataElement)) {\n        return dataElement;\n      }\n\n      return dataElement[propName] || \"\";\n    }); // Encapsulate in URL string and return.\n\n    return getUrlString({\n      imageString: imageString,\n      tracedSVG: tracedSVG,\n      addUrl: addUrl,\n      returnArray: returnArray\n    });\n  } else {\n    // If `currentSrc` or `src` is needed, check image load completion first.\n    if ((propName === \"currentSrc\" || propName === 'src') && propName in data) {\n      return getUrlString({\n        imageString: checkLoaded ? imageLoaded(data) && data[propName] || \"\" : data[propName],\n        addUrl: addUrl\n      });\n    }\n\n    return propName in data ? getUrlString({\n      imageString: data[propName],\n      tracedSVG: tracedSVG,\n      addUrl: addUrl\n    }) : \"\";\n  }\n};\n/**\n * Encapsulates an imageString with a url if needed.\n *\n * @param imageString   string    String to encapsulate.\n * @param tracedSVG     boolean   Special care for SVGs.\n * @param addUrl        boolean   If the string should be encapsulated or not.\n * @param returnArray   boolean   Return concatenated string or Array.\n * @param hasImageUrls  boolean   Force return of quoted string(s) for url().\n * @return {string||array}\n */\n\n\nexports.getCurrentFromData = getCurrentFromData;\n\nvar getUrlString = function getUrlString(_ref3) {\n  var imageString = _ref3.imageString,\n      _ref3$tracedSVG = _ref3.tracedSVG,\n      tracedSVG = _ref3$tracedSVG === void 0 ? false : _ref3$tracedSVG,\n      _ref3$addUrl = _ref3.addUrl,\n      addUrl = _ref3$addUrl === void 0 ? true : _ref3$addUrl,\n      _ref3$returnArray = _ref3.returnArray,\n      returnArray = _ref3$returnArray === void 0 ? false : _ref3$returnArray,\n      _ref3$hasImageUrls = _ref3.hasImageUrls,\n      hasImageUrls = _ref3$hasImageUrls === void 0 ? false : _ref3$hasImageUrls;\n\n  if (Array.isArray(imageString)) {\n    var stringArray = imageString.map(function (currentString) {\n      if (currentString) {\n        var base64 = currentString.indexOf(\"base64\") !== -1;\n        var imageUrl = hasImageUrls || currentString.substr(0, 4) === \"http\";\n        var currentReturnString = currentString && tracedSVG ? \"\\\"\" + currentString + \"\\\"\" : currentString && !base64 && !tracedSVG && imageUrl ? \"'\" + currentString + \"'\" : currentString;\n        return addUrl && currentString ? \"url(\" + currentReturnString + \")\" : currentReturnString;\n      }\n\n      return currentString;\n    });\n    return returnArray ? stringArray : (0, _HelperUtils.filteredJoin)(stringArray);\n  } else {\n    var base64 = imageString.indexOf(\"base64\") !== -1;\n    var imageUrl = hasImageUrls || imageString.substr(0, 4) === \"http\";\n    var returnString = imageString && tracedSVG ? \"\\\"\" + imageString + \"\\\"\" : imageString && !base64 && !tracedSVG && imageUrl ? \"'\" + imageString + \"'\" : imageString;\n    return imageString ? addUrl ? \"url(\" + returnString + \")\" : returnString : \"\";\n  }\n};\n/**\n * Checks if any image props have changed.\n *\n * @param props\n * @param prevProps\n * @return {*}\n */\n\n\nexports.getUrlString = getUrlString;\n\nvar imagePropsChanged = function imagePropsChanged(props, prevProps) {\n  return (// Do we have different image types?\n    props.fluid && !prevProps.fluid || props.fixed && !prevProps.fixed || imageArrayPropsChanged(props, prevProps) || // Are single image sources different?\n    props.fluid && prevProps.fluid && props.fluid.src !== prevProps.fluid.src || props.fixed && prevProps.fixed && props.fixed.src !== prevProps.fixed.src\n  );\n};\n/**\n * Decides if two given props with array images differ.\n *\n * @param props\n * @param prevProps\n * @return {boolean}\n */\n\n\nexports.imagePropsChanged = imagePropsChanged;\n\nvar imageArrayPropsChanged = function imageArrayPropsChanged(props, prevProps) {\n  var isPropsFluidArray = Array.isArray(props.fluid);\n  var isPrevPropsFluidArray = Array.isArray(prevProps.fluid);\n  var isPropsFixedArray = Array.isArray(props.fixed);\n  var isPrevPropsFixedArray = Array.isArray(prevProps.fixed);\n\n  if ( // Did the props change to a single image?\n  isPropsFluidArray && !isPrevPropsFluidArray || isPropsFixedArray && !isPrevPropsFixedArray || // Did the props change to an Array?\n  !isPropsFluidArray && isPrevPropsFluidArray || !isPropsFixedArray && isPrevPropsFixedArray) {\n    return true;\n  } else {\n    // Are the lengths or sources in the Arrays different?\n    if (isPropsFluidArray && isPrevPropsFluidArray) {\n      if (props.fluid.length === prevProps.fluid.length) {\n        // Check for individual image or CSS string changes.\n        return props.fluid.every(function (image, index) {\n          return image.src !== prevProps.fluid[index].src;\n        });\n      }\n\n      return true;\n    } else if (isPropsFixedArray && isPrevPropsFixedArray) {\n      if (props.fixed.length === prevProps.fixed.length) {\n        // Check for individual image or CSS string changes.\n        return props.fixed.every(function (image, index) {\n          return image.src !== prevProps.fixed[index].src;\n        });\n      }\n\n      return true;\n    }\n  }\n};\n/**\n * Prepares initial background image(s).\n *\n * @param props         object    Component properties.\n * @param withDummies   boolean   If array preserving bg layering should be add.\n * @return {string|(string|Array)}\n */\n\n\nexports.imageArrayPropsChanged = imageArrayPropsChanged;\n\nvar initialBgImage = function initialBgImage(props, withDummies) {\n  if (withDummies === void 0) {\n    withDummies = true;\n  }\n\n  var convertedProps = (0, _HelperUtils.convertProps)(props);\n  var image = convertedProps.fluid || convertedProps.fixed; // Prevent failing if neither fluid nor fixed are present.\n\n  if (!image) return \"\";\n  var returnArray = (0, _HelperUtils.hasImageArray)(convertedProps);\n  var initialImage;\n\n  if (returnArray) {\n    // Check for tracedSVG first.\n    initialImage = getCurrentFromData({\n      data: image,\n      propName: \"tracedSVG\",\n      returnArray: returnArray\n    }); // Now combine with base64 images.\n\n    initialImage = (0, _HelperUtils.combineArray)(getCurrentFromData({\n      data: image,\n      propName: \"base64\",\n      returnArray: returnArray\n    }), initialImage); // Now add possible `rgba()` or similar CSS string props.\n\n    initialImage = (0, _HelperUtils.combineArray)(getCurrentFromData({\n      data: image,\n      propName: \"CSS_STRING\",\n      addUrl: false,\n      returnArray: returnArray\n    }), initialImage);\n\n    if (withDummies) {\n      var dummyArray = createDummyImageArray(image.length); // Now combine the two arrays and join them.\n\n      initialImage = (0, _HelperUtils.combineArray)(initialImage, dummyArray);\n    }\n  } else {\n    initialImage = \"\";\n    if (image.tracedSVG) initialImage = getCurrentFromData({\n      data: image,\n      propName: \"tracedSVG\"\n    });\n    if (image.base64 && !image.tracedSVG) initialImage = getCurrentFromData({\n      data: image,\n      propName: \"base64\"\n    });\n  }\n\n  return initialImage;\n};\n/**\n * Creates an array with a transparent dummy pixel for background-* properties.\n *\n * @param length\n * @return {any[]}\n */\n\n\nexports.initialBgImage = initialBgImage;\n\nvar createDummyImageArray = function createDummyImageArray(length) {\n  var DUMMY_IMG = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n  var dummyImageURI = getUrlString({\n    imageString: DUMMY_IMG\n  });\n  return Array(length).fill(dummyImageURI);\n};\n/**\n * Checks if an image (array) reference is existing and tests for complete.\n *\n * @param imageRef    HTMLImageElement||array   Image reference(s).\n * @return {boolean}\n */\n\n\nexports.createDummyImageArray = createDummyImageArray;\n\nvar imageReferenceCompleted = function imageReferenceCompleted(imageRef) {\n  return imageRef ? Array.isArray(imageRef) ? imageRef.every(function (singleImageRef) {\n    return imageLoaded(singleImageRef);\n  }) : imageLoaded(imageRef) : false;\n};\n/**\n * Checks if an image really was fully loaded.\n *\n * @param imageRef  HTMLImageElement  Reference to an image.\n * @return {boolean}\n */\n\n\nexports.imageReferenceCompleted = imageReferenceCompleted;\n\nvar imageLoaded = function imageLoaded(imageRef) {\n  return imageRef ? imageRef.complete && imageRef.naturalWidth !== 0 && imageRef.naturalHeight !== 0 : false;\n};\n\nexports.imageLoaded = imageLoaded;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _BackgroundUtils = _interopRequireDefault(require(\"./BackgroundUtils\"));\n\nvar _HelperUtils = require(\"./HelperUtils\");\n\nvar _ImageUtils = require(\"./ImageUtils\");\n\nvar _StyleUtils = require(\"./StyleUtils\");\n\nvar _IntersectionObserverUtils = require(\"./IntersectionObserverUtils\");\n\nvar BackgroundImage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2[\"default\"])(BackgroundImage, _React$Component);\n\n  // IntersectionObserver listeners (if available).\n  function BackgroundImage(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // Default settings for browser without Intersection Observer available.\n\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"cleanUpListeners\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"intersectionListener\", function () {\n      var imageInCache = (0, _ImageUtils.inImageCache)(_this.props);\n\n      if (!_this.state.isVisible && typeof _this.props.onStartLoad === \"function\") {\n        _this.props.onStartLoad({\n          wasCached: imageInCache\n        });\n      } // imgCached and imgLoaded must update after the image is activated and\n      // isVisible is true. Once it is, imageRef becomes \"accessible\" for imgCached.\n      // imgLoaded and imgCached are in a 2nd setState call to be changed together,\n      // avoiding initiating unnecessary animation frames from style changes when\n      // setting next imageState.\n\n\n      _this.imageRef = (0, _ImageUtils.activatePictureRef)(_this.imageRef, _this.props, _this.selfRef);\n\n      _this.setState({\n        isVisible: true,\n        imageState: _this.state.imageState + 1\n      }, function () {\n        _this.setState({\n          imgLoaded: imageInCache,\n          imgCached: !!_this.imageRef.currentSrc,\n          imageState: _this.state.imageState + 1\n        });\n      });\n    });\n    var isVisible = true;\n    var imgLoaded = false;\n    var IOSupported = false;\n    var fadeIn = props.fadeIn; // If this image has already been loaded before then we can assume it's\n    // already in the browser cache so it's cheap to just show directly.\n\n    var seenBefore = (0, _ImageUtils.inImageCache)(props); // Browser with Intersection Observer available\n\n    if (!seenBefore && typeof window !== \"undefined\" && window.IntersectionObserver) {\n      isVisible = false;\n      IOSupported = true;\n    } // Never render image during SSR\n\n\n    if (typeof window === \"undefined\") {\n      isVisible = false;\n    } // Force render for critical images.\n\n\n    if (props.critical) {\n      isVisible = true;\n      IOSupported = false;\n    } // Check if a noscript element should be included.\n\n\n    var hasNoScript = !(props.critical && !fadeIn); // Set initial image state for transitioning.\n\n    var imageState = 0; // Fixed class Name & added one (needed for multiple instances).\n\n    var _fixClassName = (0, _StyleUtils.fixClassName)(props),\n        currentClassNames = _fixClassName[0],\n        addedClassName = _fixClassName[1];\n\n    _this.state = {\n      isVisible: isVisible,\n      imgLoaded: imgLoaded,\n      IOSupported: IOSupported,\n      fadeIn: fadeIn,\n      hasNoScript: hasNoScript,\n      seenBefore: seenBefore,\n      imageState: imageState,\n      currentClassNames: currentClassNames,\n      addedClassName: addedClassName\n    }; // Preset backgroundStyles (e.g. during SSR or gatsby build).\n\n    _this.backgroundStyles = (0, _StyleUtils.presetBackgroundStyles)((0, _BackgroundUtils[\"default\"])(props.className)); // Bind handlers to class.\n\n    _this.handleImageLoaded = _this.handleImageLoaded.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2[\"default\"])(_this)); // Create reference(s) to an Image loaded via picture element in background.\n\n    _this.imageRef = (0, _ImageUtils.createPictureRef)((0, _extends2[\"default\"])({}, props, {\n      isVisible: isVisible\n    }), _this.handleImageLoaded); // Start with base64, tracedSVG or empty background image(s).\n\n    _this.bgImage = (0, _ImageUtils.initialBgImage)(props);\n    _this.selfRef = null; // console.log(`-------------------------------------------------------------`)\n\n    return _this;\n  }\n\n  var _proto = BackgroundImage.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    // Update background(-*) styles from CSS (e.g. Styled Components).\n    this.backgroundStyles = (0, _StyleUtils.presetBackgroundStyles)((0, _BackgroundUtils[\"default\"])(this.props.className));\n\n    if (this.state.isVisible && typeof this.props.onStartLoad === \"function\") {\n      this.props.onStartLoad({\n        wasCached: (0, _ImageUtils.inImageCache)(this.props)\n      });\n    }\n\n    if (this.props.critical) {\n      if ((0, _ImageUtils.imageReferenceCompleted)(this.imageRef)) {\n        this.handleImageLoaded();\n      }\n    }\n\n    var _fixClassName2 = (0, _StyleUtils.fixClassName)(this.props),\n        currentClassNames = _fixClassName2[0],\n        addedClassName = _fixClassName2[1];\n\n    this.setState({\n      currentClassNames: currentClassNames,\n      addedClassName: addedClassName\n    });\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    // Check if we received a changed fluid / fixed image.\n    if ((0, _ImageUtils.imagePropsChanged)(this.props, prevProps)) {\n      var imageInCache = (0, _ImageUtils.inImageCache)(this.props);\n\n      var _fixClassName3 = (0, _StyleUtils.fixClassName)(this.props),\n          currentClassNames = _fixClassName3[0],\n          addedClassName = _fixClassName3[1];\n\n      this.setState({\n        isVisible: imageInCache || this.props.critical,\n        imgLoaded: imageInCache,\n        currentClassNames: currentClassNames,\n        addedClassName: addedClassName //   this.state.currentClassNames ||\n        //   fixClassName(this.props.className, this.randomClass),\n        // imageState: (this.state.imageState + 1) % 2,\n\n      }, function () {\n        // Update bgImage & create new imageRef(s).\n        _this2.bgImage = (0, _ImageUtils.getCurrentFromData)({\n          data: _this2.imageRef,\n          propName: \"currentSrc\",\n          returnArray: true\n        }) || (0, _ImageUtils.getCurrentFromData)({\n          data: _this2.imageRef,\n          propName: \"src\",\n          returnArray: true\n        });\n        _this2.imageRef = (0, _ImageUtils.createPictureRef)((0, _extends2[\"default\"])({}, _this2.props, {\n          isVisible: _this2.state.isVisible\n        }), _this2.handleImageLoaded);\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    // Prevent calling handleImageLoaded from the imageRef(s) after unmount.\n    if (this.imageRef) {\n      if (Array.isArray(this.imageRef)) {\n        this.imageRef.forEach(function (currentImageRef) {\n          return currentImageRef.onload = null;\n        });\n      } else {\n        this.imageRef.onload = null;\n      }\n    } // Clean up all IntersectionObserver listeners.\n\n\n    if (this.cleanUpListeners) {\n      this.cleanUpListeners();\n    }\n  };\n\n  _proto.handleRef = function handleRef(ref) {\n    this.selfRef = ref;\n\n    if (this.state.IOSupported && ref) {\n      this.cleanUpListeners = (0, _IntersectionObserverUtils.listenToIntersections)(ref, this.intersectionListener);\n    }\n  };\n\n  _proto.handleImageLoaded = function handleImageLoaded() {\n    (0, _ImageUtils.activateCacheForImage)(this.props);\n    this.setState({\n      imgLoaded: true,\n      imageState: this.state.imageState + 1\n    });\n\n    if (this.state.seenBefore) {\n      this.setState({\n        fadeIn: false\n      });\n    }\n\n    if (this.props.onLoad) {\n      this.props.onLoad();\n    }\n  };\n\n  _proto.render = function render() {\n    var _fixOpacity = (0, _StyleUtils.fixOpacity)((0, _HelperUtils.convertProps)(this.props), this.props.preserveStackingContext),\n        className = _fixOpacity.className,\n        _fixOpacity$style = _fixOpacity.style,\n        style = _fixOpacity$style === void 0 ? {} : _fixOpacity$style,\n        fluid = _fixOpacity.fluid,\n        fixed = _fixOpacity.fixed,\n        backgroundColor = _fixOpacity.backgroundColor,\n        durationFadeIn = _fixOpacity.durationFadeIn,\n        Tag = _fixOpacity.Tag,\n        children = _fixOpacity.children,\n        _fixOpacity$classId = _fixOpacity.classId,\n        classId = _fixOpacity$classId === void 0 ? !className ? Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 7) + \"_depr\" : \"\" : _fixOpacity$classId,\n        props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_fixOpacity, [\"className\", \"style\", \"fluid\", \"fixed\", \"backgroundColor\", \"durationFadeIn\", \"Tag\", \"children\", \"classId\"]);\n\n    var remainingProps = (0, _HelperUtils.stripRemainingProps)(props);\n    var bgColor = typeof backgroundColor === \"boolean\" ? \"lightgray\" : typeof backgroundColor !== \"undefined\" ? backgroundColor : \"\";\n    var shouldFadeIn = this.state.fadeIn === true && !this.state.imgCached || this.props.fadeIn === \"soft\";\n    var transitionDelay = this.state.imgLoaded ? durationFadeIn + \"ms\" : \"0.25s\"; // Create base container style and only add opacity hack when\n    // preserveStackingContext is falsy.\n\n    var divStyle = (0, _extends2[\"default\"])({\n      position: \"relative\"\n    }, style);\n    !this.props.preserveStackingContext && (divStyle.opacity = 0.99); // Choose image object of fluid or fixed, return null if not present.\n\n    var image, noScriptImageData;\n\n    if (fluid) {\n      image = fluid;\n      noScriptImageData = Array.isArray(fluid) ? fluid[0] : fluid;\n    } else if (fixed) {\n      image = fixed;\n      divStyle.width = image.width;\n      divStyle.height = image.height;\n      divStyle.display = \"inline-block\";\n\n      if (style.display === \"inherit\") {\n        delete divStyle.display;\n      }\n\n      noScriptImageData = Array.isArray(fixed) ? fixed[0] : fixed;\n    } else {\n      return null;\n    } // Set background-images and visibility according to images available.\n\n\n    var newImageSettings = (0, _ImageUtils.switchImageSettings)({\n      image: image,\n      bgImage: this.bgImage,\n      imageRef: this.imageRef,\n      state: this.state\n    }); // Set bgImage to available newImageSettings or fallback.\n\n    this.bgImage = newImageSettings.nextImageArray || newImageSettings.nextImage || this.bgImage; // Create styles for the next background image(s).\n\n    var pseudoStyles = (0, _StyleUtils.createPseudoStyles)((0, _extends2[\"default\"])({\n      classId: classId,\n      className: this.state.currentClassNames,\n      transitionDelay: transitionDelay,\n      bgColor: bgColor,\n      backgroundStyles: this.backgroundStyles,\n      style: style,\n      fadeIn: shouldFadeIn\n    }, newImageSettings));\n    var noScriptPseudoStyles = (0, _StyleUtils.createNoScriptStyles)({\n      image: image,\n      bgColor: bgColor,\n      classId: classId,\n      className: this.state.currentClassNames,\n      backgroundStyles: this.backgroundStyles,\n      style: style\n    }); // console.table(newImageSettings)\n    // console.log(pseudoStyles)\n    // console.log(image, noScriptPseudoStyles)\n    // Switch key between fluid & fixed.\n\n    var componentKey = \"\" + (fluid && \"fluid\") + (fixed && \"fixed\") + \"-\" + JSON.stringify(noScriptImageData.srcSet);\n    return _react[\"default\"].createElement(Tag, (0, _extends2[\"default\"])({\n      className: \"\" + (this.state.currentClassNames || \"\") + (classId && \" gatsby-background-image-\" + classId) + \" gatsby-image-wrapper\",\n      style: (0, _extends2[\"default\"])({}, divStyle, {}, this.backgroundStyles),\n      ref: this.handleRef,\n      key: componentKey\n    }, remainingProps), _react[\"default\"].createElement(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: pseudoStyles\n      }\n    }), this.state.hasNoScript && _react[\"default\"].createElement(\"noscript\", null, _react[\"default\"].createElement(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: noScriptPseudoStyles\n      }\n    })), children);\n  };\n\n  return BackgroundImage;\n}(_react[\"default\"].Component);\n\nBackgroundImage.defaultProps = {\n  critical: false,\n  fadeIn: true,\n  durationFadeIn: 500,\n  Tag: \"div\",\n  preserveStackingContext: false\n};\n\nvar fixedObject = _propTypes[\"default\"].shape({\n  width: _propTypes[\"default\"].number.isRequired,\n  height: _propTypes[\"default\"].number.isRequired,\n  src: _propTypes[\"default\"].string.isRequired,\n  srcSet: _propTypes[\"default\"].string.isRequired,\n  base64: _propTypes[\"default\"].string,\n  tracedSVG: _propTypes[\"default\"].string,\n  srcWebp: _propTypes[\"default\"].string,\n  srcSetWebp: _propTypes[\"default\"].string,\n  media: _propTypes[\"default\"].string\n});\n\nvar fluidObject = _propTypes[\"default\"].shape({\n  aspectRatio: _propTypes[\"default\"].number.isRequired,\n  src: _propTypes[\"default\"].string.isRequired,\n  srcSet: _propTypes[\"default\"].string.isRequired,\n  sizes: _propTypes[\"default\"].string.isRequired,\n  base64: _propTypes[\"default\"].string,\n  tracedSVG: _propTypes[\"default\"].string,\n  srcWebp: _propTypes[\"default\"].string,\n  srcSetWebp: _propTypes[\"default\"].string,\n  media: _propTypes[\"default\"].string\n});\n\nBackgroundImage.propTypes = {\n  resolutions: _propTypes[\"default\"].oneOfType([fixedObject, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].oneOfType([fixedObject, _propTypes[\"default\"].string]))]),\n  sizes: _propTypes[\"default\"].oneOfType([fluidObject, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].oneOfType([fluidObject, _propTypes[\"default\"].string]))]),\n  fixed: _propTypes[\"default\"].oneOfType([fixedObject, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].oneOfType([fixedObject, _propTypes[\"default\"].string]))]),\n  fluid: _propTypes[\"default\"].oneOfType([fluidObject, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].oneOfType([fluidObject, _propTypes[\"default\"].string]))]),\n  fadeIn: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].bool]),\n  durationFadeIn: _propTypes[\"default\"].number,\n  className: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].object]),\n  // Support Glamor's css prop.\n  critical: _propTypes[\"default\"].bool,\n  crossOrigin: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].bool]),\n  style: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].array]),\n  // Using PropTypes from RN.\n  backgroundColor: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].bool]),\n  onLoad: _propTypes[\"default\"].func,\n  onError: _propTypes[\"default\"].func,\n  onStartLoad: _propTypes[\"default\"].func,\n  Tag: _propTypes[\"default\"].string,\n  classId: _propTypes[\"default\"].string,\n  preserveStackingContext: _propTypes[\"default\"].bool\n};\nvar _default = BackgroundImage;\nexports[\"default\"] = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = exports.getBackgroundStylesForSingleClass = exports.getStyleRules = exports.rulesForCssText = exports.getStyle = void 0;\n\nvar _HelperUtils = require(\"./HelperUtils\");\n\nvar getStyle = function getStyle(className) {\n  var styleSheets = typeof window !== \"undefined\" ? window.document.styleSheets : [];\n\n  for (var i = 0; i < styleSheets.length; i++) {\n    var classes = void 0;\n\n    try {\n      classes = typeof styleSheets[i].rules !== 'undefined' ? styleSheets[i].rules : typeof styleSheets[i].cssRules !== 'undefined' ? styleSheets[i].cssRules : '';\n    } catch (e) {}\n\n    if (!classes) continue;\n    var foundClass = Array.prototype.slice.call(classes).reduce(function (foundAcc, styleRule) {\n      return styleRule.selectorText === className && foundAcc === \"\" ? styleRule : foundAcc;\n    }, \"\");\n\n    if (foundClass) {\n      var resultingStyleText = foundClass.cssText ? foundClass.cssText : foundClass.style.cssText;\n      return resultingStyleText.indexOf(foundClass.selectorText) === -1 ? foundClass.selectorText + \"{\" + resultingStyleText + \"}\" : resultingStyleText;\n    }\n  }\n};\n/**\n * Creates a temporary style element to read rules from.\n *\n * @param styleContent  string    CSS-Styles to apply\n * @return {*}\n */\n\n\nexports.getStyle = getStyle;\n\nvar rulesForCssText = function rulesForCssText(styleContent) {\n  if (typeof document !== \"undefined\" && styleContent) {\n    var doc = document.implementation.createHTMLDocument('');\n    var styleElement = document.createElement('style');\n    styleElement.textContent = styleContent; // The style element will only be parsed once it is added to a document.\n\n    doc.body.appendChild(styleElement);\n    return styleElement.sheet.cssRules;\n  }\n\n  return {};\n};\n/**\n * Fixes non-enumerable style rules in Firefox.\n *\n * @param cssStyleRules CSSStyleRules   DOM-StyleRules-Object\n * @return {*}\n */\n\n\nexports.rulesForCssText = rulesForCssText;\n\nvar getStyleRules = function getStyleRules(cssStyleRules) {\n  var styles = {};\n\n  if (cssStyleRules.length > 0 && typeof cssStyleRules[0].style !== 'undefined') {\n    // Fallback for Browsers without constructor.name (IE11).\n    var constructorName = cssStyleRules[0].style.constructor.name || cssStyleRules[0].style.constructor.toString();\n\n    switch (constructorName) {\n      // For Firefox or IE11.\n      case 'CSS2Properties':\n      case '[object MSStyleCSSProperties]':\n        Object.values(cssStyleRules[0].style).forEach(function (prop) {\n          styles[(0, _HelperUtils.toCamelCase)(prop)] = cssStyleRules[0].style[prop];\n        });\n        break;\n\n      case 'CSSStyleDeclaration':\n        styles = cssStyleRules[0].style;\n        break;\n\n      default:\n        console.error('Unknown style object prototype');\n        break;\n    }\n  }\n\n  return styles;\n};\n/**\n * Filters out Background Rules for a given class Name.\n *\n * @param className   string    The class to filter rules from\n * @return {{}}\n */\n\n\nexports.getStyleRules = getStyleRules;\n\nvar getBackgroundStylesForSingleClass = function getBackgroundStylesForSingleClass(className) {\n  if ((0, _HelperUtils.isString)(className)) {\n    var style = getStyle(\".\" + className);\n    var cssStyleRules = rulesForCssText(style);\n\n    if (cssStyleRules.length > 0 && typeof cssStyleRules[0].style !== 'undefined') {\n      // Filter out background(-*) rules that contain a definition.\n      return Object.keys(getStyleRules(cssStyleRules)).filter(function (key) {\n        return key.indexOf('background') === 0 && cssStyleRules[0].style[key] !== '';\n      }).reduce(function (newData, key) {\n        newData[key] = cssStyleRules[0].style[key];\n        return newData;\n      }, {});\n    }\n  }\n\n  return {};\n};\n/**\n * Uses the above to get all background(-*) rules from given class(es).\n *\n * @param className   string|array    className or array of classNames\n * @return {*}\n */\n\n\nexports.getBackgroundStylesForSingleClass = getBackgroundStylesForSingleClass;\n\nvar getBackgroundStyles = function getBackgroundStyles(className) {\n  if (typeof window !== \"undefined\") {\n    var classes = (0, _HelperUtils.stringToArray)(className);\n\n    if (classes instanceof Array) {\n      var classObjects = [];\n      classes.forEach(function (item) {\n        return classObjects.push(getBackgroundStylesForSingleClass(item));\n      });\n      return Object.assign.apply(Object, classObjects);\n    }\n\n    return getBackgroundStylesForSingleClass(className);\n  }\n\n  return {};\n};\n\nvar _default = getBackgroundStyles;\nexports[\"default\"] = _default;","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.createNoScriptStyles = exports.createPseudoStyles = exports.presetBackgroundStyles = exports.fixOpacity = exports.setTransitionStyles = exports.kebabifyBackgroundStyles = exports.escapeClassNames = exports.fixClassName = exports.createPseudoElement = exports.resetComponentClassCache = exports.activateCacheForComponentClass = exports.inComponentClassCache = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _HelperUtils = require(\"./HelperUtils\");\n\nvar _ImageUtils = require(\"./ImageUtils\");\n\nvar componentClassCache = Object.create({});\n/**\n * Cache component classes as we never know if a Component wasn't already set.\n *\n * @param className   string  className given by props\n * @return {*|boolean}\n */\n\nvar inComponentClassCache = function inComponentClassCache(className) {\n  return componentClassCache[className] || false;\n};\n/**\n * Adds a component's classes to componentClassCache.\n *\n * @param className   string  className given by props\n */\n\n\nexports.inComponentClassCache = inComponentClassCache;\n\nvar activateCacheForComponentClass = function activateCacheForComponentClass(className) {\n  if (className) {\n    componentClassCache[className] = true;\n  }\n};\n/**\n * Resets the componentClassCache (especially important for reliable tests).\n */\n\n\nexports.activateCacheForComponentClass = activateCacheForComponentClass;\n\nvar resetComponentClassCache = function resetComponentClassCache() {\n  for (var className in componentClassCache) {\n    delete componentClassCache[className];\n  }\n};\n/**\n * Creates pseudo-element(s) for className(s).\n *\n * @param className string  className given by props\n * @param classId   string  Deprecated classId\n * @param appendix  string  Pseudo-element to create, defaults to `:before`\n * @return {string}\n */\n\n\nexports.resetComponentClassCache = resetComponentClassCache;\n\nvar createPseudoElement = function createPseudoElement(className, classId, appendix) {\n  if (classId === void 0) {\n    classId = \"\";\n  }\n\n  if (appendix === void 0) {\n    appendix = \":before\";\n  }\n\n  var escapedClassName = escapeClassNames(className);\n  var classes = (0, _HelperUtils.stringToArray)(escapedClassName);\n  var pseudoClasses = \"\";\n\n  if (classes instanceof Array && classes.length > 0 && classes[0] !== \"\") {\n    pseudoClasses = \".\" + classes.join('.') + appendix;\n  }\n\n  if (classId !== \"\") {\n    pseudoClasses += (pseudoClasses && \",\\n\") + \".gatsby-background-image-\" + classId + appendix;\n  }\n\n  return pseudoClasses;\n};\n/**\n * Checks if an element with given className(s) already exists.\n *\n * @param className       string    Given className(s) e.g. from styled-components\n * @param addedClassName  string    A possible previously added className\n * @param props           Object    Given props by component\n * @return {*[]}\n */\n\n\nexports.createPseudoElement = createPseudoElement;\n\nvar fixClassName = function fixClassName(_ref) {\n  var className = _ref.className,\n      _ref$addedClassName = _ref.addedClassName,\n      addedClassName = _ref$addedClassName === void 0 ? \"\" : _ref$addedClassName,\n      props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_ref, [\"className\", \"addedClassName\"]);\n  // const escapedClassName = escapeClassNames(className)\n  var convertedProps = (0, _HelperUtils.convertProps)(props);\n  var elementExists = inComponentClassCache(className); // Extract imageData.\n\n  var imageData = convertedProps.fluid ? Array.isArray(convertedProps.fluid) ? convertedProps.fluid[0] : convertedProps.fluid : Array.isArray(convertedProps.fixed) ? convertedProps.fixed[0] : convertedProps.fixed; // Really just the answer to issue #55 ; ).\n\n  var randomAnswerToLifeTheUniverseAndEverything = addedClassName ? addedClassName : Math.round(Math.random() * 42); // Create random \"uniquely hashed\" additionalClass if needed.\n\n  var randomClass = \" gbi-\" + (0, _HelperUtils.hashString)(imageData && imageData.srcSet || className) + \"-\" + randomAnswerToLifeTheUniverseAndEverything; // Should an element exist, add randomized class.\n\n  var additionalClass = elementExists ? randomClass : \"\";\n  var componentClassNames = (\"\" + (className || \"\") + (additionalClass || \"\")).trim(); // Add it to cache if it doesn't exist.\n\n  !elementExists && activateCacheForComponentClass(className);\n  return [componentClassNames, additionalClass];\n};\n/**\n * Escapes specialChars defined in gatsby-config.js in classNames to make\n * Tailwind CSS or suchlike usable (defaults to: `:/`).\n *\n * @param classNames           classNames to escape.\n * @return {void | string|*}\n */\n\n\nexports.fixClassName = fixClassName;\n\nvar escapeClassNames = function escapeClassNames(classNames) {\n  if (classNames) {\n    var specialChars = typeof window !== \"undefined\" && window._gbiSpecialChars ? window._gbiSpecialChars : typeof __GBI_SPECIAL_CHARS__ !== \"undefined\" ? __GBI_SPECIAL_CHARS__ : ':/';\n    var specialCharRegEx = new RegExp(\"[\" + specialChars + \"]\", 'g');\n    return classNames.replace(specialCharRegEx, '\\\\$&');\n  }\n\n  return classNames;\n};\n/**\n * Converts a style object into CSS kebab-cased style rules.\n *\n * @param styles    Object  Style object to convert\n * @return {*}\n */\n\n\nexports.escapeClassNames = escapeClassNames;\n\nvar kebabifyBackgroundStyles = function kebabifyBackgroundStyles(styles) {\n  if ((0, _HelperUtils.isString)(styles)) {\n    return styles;\n  }\n\n  if (styles instanceof Object) {\n    return Object.keys(styles).filter(function (key) {\n      return key.indexOf('background') === 0 && styles[key] !== '';\n    }).reduce(function (resultingStyles, key) {\n      return \"\" + resultingStyles + (0, _HelperUtils.toKebabCase)(key) + \": \" + styles[key] + \";\\n\";\n    }, \"\");\n  }\n\n  return \"\";\n};\n/**\n * Creates vendor prefixed background styles.\n *\n * @param transitionDelay   string    Time delay before transitioning\n * @param fadeIn            boolean   Should we transition?\n * @return {string}\n */\n\n\nexports.kebabifyBackgroundStyles = kebabifyBackgroundStyles;\n\nvar setTransitionStyles = function setTransitionStyles(transitionDelay, fadeIn) {\n  if (transitionDelay === void 0) {\n    transitionDelay = \"0.25s\";\n  }\n\n  if (fadeIn === void 0) {\n    fadeIn = true;\n  }\n\n  return fadeIn ? \"transition: opacity 0.5s ease \" + transitionDelay + \";\" : \"transition: none;\";\n};\n/**\n * Prevent possible stacking order mismatch with opacity \"hack\".\n *\n * @param props     Object    Given props by component\n * @return {Object}\n */\n\n\nexports.setTransitionStyles = setTransitionStyles;\n\nvar fixOpacity = function fixOpacity(props) {\n  var styledProps = (0, _extends2[\"default\"])({}, props);\n\n  if (!styledProps.preserveStackingContext) {\n    try {\n      if (styledProps.style && styledProps.style.opacity) {\n        if (isNaN(styledProps.style.opacity) || styledProps.style.opacity > 0.99) {\n          styledProps.style.opacity = 0.99;\n        }\n      }\n    } catch (e) {// Continue regardless of error\n    }\n  }\n\n  return styledProps;\n};\n/**\n * Set some needed backgroundStyles.\n *\n * @param backgroundStyles  object    Special background styles to be spread\n * @return {Object}\n */\n\n\nexports.fixOpacity = fixOpacity;\n\nvar presetBackgroundStyles = function presetBackgroundStyles(backgroundStyles) {\n  var defaultBackgroundStyles = {\n    backgroundPosition: \"center\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"cover\"\n  };\n  return (0, _extends2[\"default\"])({}, defaultBackgroundStyles, {}, backgroundStyles);\n};\n/**\n * Creates styles for the changing pseudo-elements' backgrounds.\n *\n * @param classId           string    Pre 0.3.0 way to create pseudo-elements\n * @param className         string    One or more className(s)\n * @param transitionDelay   string    Time delay before transitioning\n * @param lastImage         string    The last image given\n * @param nextImage         string    The next image to show\n * @param afterOpacity      number    The opacity of the pseudo-element upfront\n * @param bgColor           string    A possible background-color to set\n * @param fadeIn            boolean   Should we transition?\n * @param backgroundStyles  object    Special background styles to be spread\n * @param style             object    Default style to be spread\n * @param finalImage        boolean   Have we reached the last image?\n * @return {string}\n */\n\n\nexports.presetBackgroundStyles = presetBackgroundStyles;\n\nvar createPseudoStyles = function createPseudoStyles(_ref2) {\n  var classId = _ref2.classId,\n      className = _ref2.className,\n      transitionDelay = _ref2.transitionDelay,\n      lastImage = _ref2.lastImage,\n      nextImage = _ref2.nextImage,\n      afterOpacity = _ref2.afterOpacity,\n      bgColor = _ref2.bgColor,\n      fadeIn = _ref2.fadeIn,\n      backgroundStyles = _ref2.backgroundStyles,\n      style = _ref2.style,\n      finalImage = _ref2.finalImage;\n  var pseudoBefore = createPseudoElement(className, classId);\n  var pseudoAfter = createPseudoElement(className, classId, \":after\");\n  return \"\\n          \" + pseudoBefore + \",\\n          \" + pseudoAfter + \" {\\n            content: '';\\n            display: block;\\n            position: absolute;\\n            width: 100%;\\n            height: 100%;\\n            top: 0;\\n            left: 0;\\n            \" + (bgColor && \"background-color: \" + bgColor + \";\") + \"\\n            \" + setTransitionStyles(transitionDelay, fadeIn) + \"\\n            \" + kebabifyBackgroundStyles((0, _extends2[\"default\"])({}, backgroundStyles, {}, style)) + \"\\n          }\\n          \" + pseudoBefore + \" {\\n            z-index: -100;\\n            \" + (afterOpacity && nextImage ? \"background-image: \" + nextImage + \";\" : \"\") + \"\\n            \" + (!afterOpacity && lastImage ? \"background-image: \" + lastImage + \";\" : \"\") + \"\\n            opacity: \" + afterOpacity + \"; \\n          }\\n          \" + pseudoAfter + \" {\\n            z-index: -101;\\n            \" + (!afterOpacity && nextImage ? \"background-image: \" + nextImage + \";\" : \"\") + \"\\n            \" + (afterOpacity && lastImage ? \"background-image: \" + lastImage + \";\" : \"\") + \"\\n            \" + (finalImage ? \"opacity: \" + Number(!afterOpacity) + \";\" : \"\") + \"\\n          }\\n        \";\n};\n/**\n * Creates styles for the noscript element.\n *\n * @param classId     string          Pre 0.3.0 way to create pseudo-elements\n * @param className   string          One or more className(s)\n * @param image       string||array   Base data for one or multiple Images\n * @return {string}\n */\n\n\nexports.createPseudoStyles = createPseudoStyles;\n\nvar createNoScriptStyles = function createNoScriptStyles(_ref3) {\n  var classId = _ref3.classId,\n      className = _ref3.className,\n      image = _ref3.image;\n\n  if (image) {\n    var returnArray = Array.isArray(image);\n    var addUrl = false;\n    var allSources = (0, _ImageUtils.getCurrentFromData)({\n      data: image,\n      propName: \"src\",\n      checkLoaded: false,\n      addUrl: addUrl,\n      returnArray: returnArray\n    });\n    var sourcesAsUrl = (0, _ImageUtils.getUrlString)({\n      imageString: allSources,\n      hasImageUrls: true,\n      returnArray: returnArray\n    });\n    var sourcesAsUrlWithCSS = \"\";\n\n    if (returnArray) {\n      var cssStrings = (0, _ImageUtils.getCurrentFromData)({\n        data: image,\n        propName: \"CSS_STRING\",\n        addUrl: false,\n        returnArray: returnArray\n      });\n      sourcesAsUrlWithCSS = (0, _HelperUtils.filteredJoin)((0, _HelperUtils.combineArray)(sourcesAsUrl, cssStrings));\n    }\n\n    var pseudoBefore = createPseudoElement(className, classId);\n    return \"\\n          \" + pseudoBefore + \" {\\n            opacity: 1;\\n            background-image: \" + (sourcesAsUrlWithCSS || sourcesAsUrl) + \";\\n          }\";\n  }\n\n  return \"\";\n};\n\nexports.createNoScriptStyles = createNoScriptStyles;","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","\"use strict\";\n\nexports.__esModule = true;\nexports.listenToIntersections = exports.getIO = exports.callbackIO = void 0;\nvar io;\nvar listeners = new WeakMap();\n/**\n * Executes each IntersectionObserver entries' callback.\n *\n * @param entries\n */\n\nvar callbackIO = function callbackIO(entries) {\n  entries.forEach(function (entry) {\n    if (listeners.has(entry.target)) {\n      var callback = listeners.get(entry.target); // Edge doesn't currently support isIntersecting, so also test for an intersectionRatio > 0\n\n      if (entry.isIntersecting || entry.intersectionRatio > 0) {\n        io.unobserve(entry.target);\n        listeners[\"delete\"](entry.target);\n        callback();\n      }\n    }\n  });\n};\n/**\n * Returns an IntersectionObserver instance if exists.\n *\n * @return {IntersectionObserver|undefined}\n */\n\n\nexports.callbackIO = callbackIO;\n\nvar getIO = function getIO() {\n  if (typeof io === \"undefined\" && typeof window !== \"undefined\" && window.IntersectionObserver) {\n    io = new window.IntersectionObserver(callbackIO, {\n      rootMargin: \"200px\"\n    });\n  }\n\n  return io;\n};\n/**\n * Registers IntersectionObserver callback on element.\n *\n * @param element\n * @param callback\n * @return {Function}\n */\n\n\nexports.getIO = getIO;\n\nvar listenToIntersections = function listenToIntersections(element, callback) {\n  var observer = getIO();\n\n  if (observer) {\n    observer.observe(element);\n    listeners.set(element, callback);\n    return function () {\n      observer.unobserve(element);\n      listeners[\"delete\"](element);\n    };\n  }\n\n  return function () {};\n};\n\nexports.listenToIntersections = listenToIntersections;"],"sourceRoot":""}